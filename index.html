<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SA:MP Music Streamer</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>üéµ</text></svg>">
</head>
<body>
    <div class="container">
        <header>
            <div class="header-content">
                <h1>üéµ SA:MP Music Streamer</h1>
                <p class="subtitle">Upload & stream MP3 files for GTA San Andreas Multiplayer</p>
            </div>
            <div class="user-info" id="userInfo">Guest</div>
        </header>

        <nav class="tabs">
            <button class="tab-btn active" onclick="showTab('home')">
                <span>üè†</span> Home
            </button>
            <button class="tab-btn" onclick="showTab('upload')">
                <span>üì§</span> Upload
            </button>
            <button class="tab-btn" onclick="showTab('library')">
                <span>üìö</span> Library
            </button>
            <button class="tab-btn" onclick="showTab('settings')">
                <span>‚öôÔ∏è</span> Settings
            </button>
        </nav>

        <main>
            <!-- HOME TAB -->
            <section id="home" class="tab-content active">
                <div class="card">
                    <h2>Welcome to SA:MP Music Streaming!</h2>
                    <p>This website allows you to upload MP3 files and get permanent streaming links for GTA San Andreas Multiplayer.</p>
                    
                    <div class="features">
                        <div class="feature">
                            <div class="feature-icon">üéµ</div>
                            <h3>Free Storage</h3>
                            <p>All files stored with permanent links</p>
                        </div>
                        <div class="feature">
                            <div class="feature-icon">üîó</div>
                            <h3>Permanent Links</h3>
                            <p>Get URLs that never expire for SA:MP streaming</p>
                        </div>
                        <div class="feature">
                            <div class="feature-icon">üë§</div>
                            <h3>Display Names</h3>
                            <p>Set your display name to appear as uploader</p>
                        </div>
                    </div>

                    <div class="instructions">
                        <h3>How to Use:</h3>
                        <ol>
                            <li><strong>Set Display Name:</strong> Go to Settings tab first</li>
                            <li><strong>Upload MP3:</strong> Go to Upload tab, fill details</li>
                            <li><strong>Copy URL:</strong> Go to Library tab, find your song</li>
                            <li><strong>Use in SA:MP:</strong> Type <code>/stream [URL]</code> in-game</li>
                        </ol>
                    </div>

                    <div class="info-box">
                        <strong>üìù Important:</strong>
                        <ul>
                            <li>Upload password: <code>ridingisFun123!</code></li>
                            <li>Max file size: 100MB per song</li>
                            <li>Only upload music you have rights to</li>
                            <li>Files are stored permanently</li>
                        </ul>
                    </div>
                </div>
            </section>

            <!-- UPLOAD TAB -->
            <section id="upload" class="tab-content">
                <div class="card">
                    <h2>üì§ Upload MP3</h2>
                    <p class="card-subtitle">Upload MP3 files and get streaming URLs</p>
                    
                    <div class="upload-form">
                        <div class="form-group">
                            <label for="shortName">Short Name *</label>
                            <input type="text" id="shortName" placeholder="Example: Binosko-Theme-A" maxlength="50">
                            <small>No spaces. Use letters, numbers, and dashes only.</small>
                        </div>
                        
                        <div class="form-group">
                            <label for="mp3File">MP3 File *</label>
                            <div class="file-upload">
                                <input type="file" id="mp3File" accept=".mp3,.MP3" onchange="showFileInfo()">
                                <div id="fileInfo"></div>
                            </div>
                            <small>Maximum file size: 100MB. Only MP3 files allowed.</small>
                        </div>
                        
                        <div class="form-group">
                            <label for="uploadPassword">Upload Password *</label>
                            <input type="password" id="uploadPassword" placeholder="Enter the upload password">
                            <small>Password required to prevent spam uploads.</small>
                        </div>
                        
                        <button id="uploadBtn" class="primary-btn" onclick="uploadSong()">
                            <span id="uploadText">Upload Song</span>
                            <div id="uploadSpinner" class="spinner" style="display: none;"></div>
                        </button>
                    </div>
                    
                    <div id="uploadStatus" class="status-box"></div>
                    
                    <div class="upload-note">
                        <p><strong>Note:</strong> For now, this saves songs locally. Internet Archive integration coming soon.</p>
                    </div>
                </div>
            </section>

            <!-- LIBRARY TAB -->
            <section id="library" class="tab-content">
                <div class="card">
                    <h2>üìö Music Library</h2>
                    <p class="card-subtitle">Browse all uploaded songs and copy streaming URLs</p>
                    
                    <div class="library-controls">
                        <div class="search-container">
                            <input type="text" id="searchInput" placeholder="Search by name or uploader..." oninput="searchSongs()">
                            <div class="search-icon">üîç</div>
                        </div>
                        <div class="stats">
                            <span id="songCount">0</span> songs
                        </div>
                    </div>
                    
                    <div id="songList" class="song-list">
                        <div class="empty-state">
                            <div class="empty-icon">üì≠</div>
                            <h3>No songs uploaded yet</h3>
                            <p>Be the first to upload a song!</p>
                            <button class="secondary-btn" onclick="showTab('upload')">Upload First Song</button>
                        </div>
                    </div>
                    
                    <div class="library-help">
                        <p><strong>How to use in SA:MP:</strong> Copy the URL and use command <code>/stream [URL]</code></p>
                    </div>
                </div>
            </section>

            <!-- SETTINGS TAB -->
            <section id="settings" class="tab-content">
                <div class="card">
                    <h2>‚öôÔ∏è Settings</h2>
                    
                    <div class="settings-form">
                        <div class="form-group">
                            <label for="displayName">Display Name</label>
                            <input type="text" id="displayName" placeholder="Enter your display name">
                            <small>This name will appear next to your uploaded songs.</small>
                        </div>
                        
                        <div class="form-actions">
                            <button class="primary-btn" onclick="saveSettings()">Save Settings</button>
                            <button class="secondary-btn" onclick="clearLibrary()">Clear Local Library</button>
                        </div>
                        
                        <div id="settingsStatus" class="status-box"></div>
                    </div>
                    
                    <div class="settings-info">
                        <h3>About This Site</h3>
                        <ul>
                            <li><strong>Storage:</strong> Local browser storage (for now)</li>
                            <li><strong>Hosting:</strong> Vercel (free)</li>
                            <li><strong>Password:</strong> ridingisFun123!</li>
                            <li><strong>File Limit:</strong> 100MB per song</li>
                        </ul>
                        <p class="version">Version 1.0 ‚Ä¢ Made for SA:MP Community</p>
                    </div>
                </div>
            </section>
        </main>

        <footer>
            <p>SA:MP Music Streamer ‚Ä¢ Use command <code>/stream [URL]</code> in SA:MP</p>
            <p class="footer-note">Note: Songs are saved locally in your browser for now</p>
        </footer>
    </div>

    <!-- Success Modal -->
    <div id="successModal" class="modal">
        <div class="modal-content">
            <div class="modal-icon">‚úÖ</div>
            <h3>Upload Successful!</h3>
            <div class="url-display" id="successUrl"></div>
            <p>Use this URL in SA:MP with <code>/stream [URL]</code></p>
            <div class="modal-actions">
                <button class="primary-btn" onclick="copySuccessUrl()">Copy URL</button>
                <button class="secondary-btn" onclick="closeModal()">Close</button>
            </div>
        </div>
    </div>

    <script src="app.js"></script>
</body>
</html>
